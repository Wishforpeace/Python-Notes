# SQL的主键和外键的作用

## SQL的主键和外键的作用:

### 外键取值规则:空值或参照的主键值

1. 插入非空值时,如果主键中没有这个值,则不能插入;
2. 更新时,不能改为主键表中没有的值;
3. 删除主键表记录时;可以在建外键时选定外键记录一起联删除还是拒绝删除;
4. 更新主键记录时,同样有级联更新和拒绝执行的选择。

简而言之，SQL的主键和外键就是起约束作用。

关系型数据库中一条记录中有若干个属性，若其中某一个属性组（注意是组）能唯一标识一条记录，该属性就可以成为一个主键，如:

```
学生表(学号，姓名，性别，班级)
```

学号是唯一的，学号就是一个主键;

```
课程表(课程编号，课程名，学分)
```

其中课程编号是唯一的，课程编号就是一个主键；

```
成绩表(学号，课程号，成绩)
```

成绩表中单一属性无法唯一标识一条记录，学号和课程编号组合才可以唯一标识一条记录，所以学号和课程编号的属性组是一个主键

成绩表中的学号不是成绩表中的主键，但它和学生表中的学号相对应，并且学生表中的学号是学生表的关键，则称成绩表中的学号是学生表的外键；同理，成绩表中的课程号是课程表的外键。

### 定义主键和外键主要是为了维护关系数据库的完整性，总结一下：

1. #### **主键**

   是能确定一条记录的唯一标识。比如，一条记录包括身份证号码、姓名、年龄。身份证号码是唯一确认你这个人的，其他的都可能重复，所以身份证号码是主键。

   #### **外键**

   用于与另一张表相关联。是能确认另一张表记录的字段，用于保持数据的一致性。比如，A表中的一个字段，是B表的主键，那它就可以是A表的外键

2. #### 主键、外键、索引的区别

   >定义：
   >
   >主键：唯一标识一条记录，不能有重复，不允许有空。
   >
   >外键：表的外键是另一类的主键，外键可以有重复，可以是空值。
   >
   >索引：该字段没有重复值，但可以有一个空值

   >作用：
   >
   >主键：用来保证数据完整性
   >
   >外键：用来和其他表建立联系用
   >
   >索引：用来提高查询排序的速度

   > 个数：
   >
   > 主键：主键只能有一个
   >
   > 外键：一个表可以有多个外键。
   >
   > 索引：一个表可以有多个唯一索引。

   

   

   

